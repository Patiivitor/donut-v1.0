
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="produtos.css" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <title>Produtos - Sweet Donut</title>
    <style>
      .cart-icon {
        position: relative;
        cursor: pointer;
      }
      .cart-badge {
        position: absolute;
        margin-left: 70px;
        background: red;
        color: white;
        border-radius: 50%;
        padding: 4px 8px;
        font-size: 12px;
      }
      .cart-total-value {
        font-weight: bold;
        color: #000;
      }
    </style>
  </head>
  <body>
    <header class="bg-light p-3 shadow-sm">
      <div class="container d-flex justify-content-between align-items-center">
        <a href="index.html">
          <img src="./imagens/logo.png" alt="Logo Sweet Donut" class="logo" />
        </a>
        <nav>
          <ul class="nav">
            <li class="nav-item">
              <a class="nav-link text-dark" href="quemSomos.html">Quem Somos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark" href="produtos.html">Produtos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark" href="contato.html">Contato</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark" href="unidades.html">Unidades</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link text-dark cart-icon"
                href="finalizarCompra.html"
              >
                🛒 Carrinho
                <span class="cart-badge" id="cart-total">0</span>
                <span class="cart-total-value" id="cart-value">R$ 0,00</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="container mt-5">
      <h1 class="text-center mb-4">Nossos Donuts</h1>
      <div class="row">
        <!-- Donut Chocolate -->
        <div class="col-md-4">
          <div class="card">
            <img
              src="./imagens/donut-chocolate.jpg"
              class="card-img-top"
              alt="Donut de Chocolate"
            />
            <div class="card-body">
              <h5 class="card-title">Donut de Chocolate</h5>
              <p class="card-text">
                Delicioso donut coberto com chocolate e granulado crocante.
              </p>
              <p class="price" data-price="6.00">R$ 6,00</p>
              <button class="btn btn-primary add-to-cart">
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </div>
        <!-- Donut Morango -->
        <div class="col-md-4">
          <div class="card">
            <img
              src="./imagens/donut-morango.jpg"
              class="card-img-top"
              alt="Donut de Morango"
            />
            <div class="card-body">
              <h5 class="card-title">Donut de Morango</h5>
              <p class="card-text">
                Donut com cobertura de morango e confeitos coloridos.
              </p>
              <p class="price" data-price="7.00">R$ 7,00</p>
              <button class="btn btn-primary add-to-cart">
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </div>
        <!-- Donut Glaceado -->
        <div class="col-md-4">
          <div class="card">
            <img
              src="./imagens/donut-glaceado.jpg"
              class="card-img-top"
              alt="Donut Glaceado"
            />
            <div class="card-body">
              <h5 class="card-title">Donut Glaceado</h5>
              <p class="card-text">
                Um donut clássico glaceado e polvilhado com açúcar.
              </p>
              <p class="price" data-price="5.50">R$ 5,50</p>
              <button class="btn btn-primary add-to-cart">
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </div>
        <!-- Donut Caramelo -->
        <div class="col-md-4">
          <div class="card">
            <img
              src="./imagens/caramelo.jpg"
              class="card-img-top"
              alt="Donut de Caramelo"
            />
            <div class="card-body">
              <h5 class="card-title">Donut de Caramelo</h5>
              <p class="card-text">
                Donut com cobertura de caramelo e uma pitada de sal.
              </p>
              <p class="price" data-price="6.50">R$ 6,50</p>
              <button class="btn btn-primary add-to-cart">
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </div>
        <!-- Donut Nutella -->
        <div class="col-md-4">
          <div class="card">
            <img
              src="./imagens/nutella.jpg"
              class="card-img-top"
              alt="Donut de Nutella"
            />
            <div class="card-body">
              <h5 class="card-title">Donut de Nutella</h5>
              <p class="card-text">
                Donut recheado com Nutella e coberto com avelãs.
              </p>
              <p class="price" data-price="8.00">R$ 8,00</p>
              <button class="btn btn-primary add-to-cart">
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </div>
        <!-- Donut Baunilha -->
        <div class="col-md-4">
          <div class="card">
            <img
              src="./imagens/donut-baunilha.jpg"
              class="card-img-top"
              alt="Donut de Baunilha"
            />
            <div class="card-body">
              <h5 class="card-title">Donut de Baunilha</h5>
              <p class="card-text">
                Donut macio com cobertura de baunilha e confeitos.
              </p>
              <p class="price" data-price="6.50">R$ 6,50</p>
              <button class="btn btn-primary add-to-cart">
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="bg-dark text-white py-4">
      <div class="container text-center">
        <p>&copy; 2024 Sweet Donut. Todos os direitos reservados.</p>
      </div>
    </footer>

    <script>
      // Variáveis de carrinho
      let cartTotal = parseFloat(localStorage.getItem("cartTotal")) || 0;
      let itemCount = parseInt(localStorage.getItem("itemCount")) || 0;

      // Exibir valores salvos ao carregar a página
      document.getElementById("cart-total").textContent = itemCount;
      document.getElementById(
        "cart-value"
      ).textContent = `R$ ${cartTotal.toFixed(2)}`;

      // Função para adicionar ao carrinho
      function addToCart(price) {
        if (!isNaN(price)) {
          // Verifica se o preço é um número válido
          cartTotal += price;
          itemCount++;

          // Atualiza os elementos na página
          document.getElementById("cart-total").textContent = itemCount;
          document.getElementById(
            "cart-value"
          ).textContent = `R$ ${cartTotal.toFixed(2)}`;

          // Salva no localStorage
          localStorage.setItem("cartTotal", cartTotal);
          localStorage.setItem("itemCount", itemCount);
        } else {
          console.error("Preço inválido detectado:", price);
        }
      }

      // Evento para cada botão de "Adicionar ao Carrinho"
      document.querySelectorAll(".add-to-cart").forEach((button) => {
        button.addEventListener("click", function () {
          const price = parseFloat(
            this.previousElementSibling.getAttribute("data-price")
          );
          addToCart(price);
          alert("Produto adicionado ao carrinho!");
        });
      });
    </script>
  </body>
</html>
